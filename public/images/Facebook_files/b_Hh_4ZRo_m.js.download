if (self.CavalryLogger) { CavalryLogger.start_js(["Tcd1e"]); }

__d('EditChatTabNicknameDialog',['cx','fbt','DialogX','ImmutableObject','MercuryIDs','MessengerDialogHeader.react','MessengerTextWithEmojiInput.react','MessagingThreadCustomizationConfig','MessagingThreadCustomizationSource','MessengerDialogCancelButton.react','MessengerDialogButton.react','MessengerDialogFooter.react','MercuryThreadActions','React','SimpleXUIDialog'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('MercuryThreadActions').get(),k=400,l={show:function m(n,o,p,q,r){var s=null,t=c('MercuryIDs').getUserIDFromParticipantID(o.id),u=t===q?i._("Edit your nickname"):i._("Edit nickname for {personName}",[i.param('personName',o.name)]),v=c('React').createElement('div',{className:"_2c1u"},c('React').createElement(c('MessengerDialogHeader.react'),null,u)),w=c('React').createElement('div',{className:"_2c1u"},c('React').createElement('div',{className:"_21g-"},c('React').createElement('div',{className:"_-bo"},i._("Everyone in this conversation will see this.")),c('React').createElement(c('MessengerTextWithEmojiInput.react'),{className:"_2c1v",initialValue:p,onReturn:function(){return (this._handleSave(s,n,o,p));}.bind(this),maxLength:c('MessagingThreadCustomizationConfig').maxNicknameLength,placeholder:o.name}))),x=c('React').createElement('div',{className:"_2c1u"},c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Save"),onClick:function(){return (this._handleSave(s,n,o,p));}.bind(this),type:'primary'})));s=c('SimpleXUIDialog').showEx(w,v,x,null,{NICKNAME_DIALOG_WIDTH:k,causalElement:r});},_handleSave:function m(n,o,p,q){if(!n)return;var r=n._reactContainer.querySelector('[data-text]').textContent;if(r!==q)j.changeThreadNicknames(o,c('MercuryIDs').getUserIDFromParticipantID(p.id),r,c('MessagingThreadCustomizationSource').SETTINGS);n.hide();}};f.exports=l;}),null);